machine:
  java:
    version: oraclejdk8
  environment:
    TERM: dumb

dependencies:
  override:
    - ./gradlew assemble compileTestJava --console=plain --stacktrace

test:
  override:
    - ./scripts/verify.sh

deployment:
  snapshots:
    branch: develop
    commands:
      - ./gradlew artifactoryPublish --info
  releases:
    tag: /[0-9]+(\.[0-9]+)+/
    commands:
      - ./gradlew artifactoryPublish --info
